{"version":3,"file":"newcar.mjs","sources":["../../../node_modules/.pnpm/@rollup+plugin-typescript@10.0.1_rollup@3.8.1_tslib@2.4.1_typescript@4.9.4/node_modules/tslib/tslib.es6.js","../../animation-builder/src/index.ts","../../core/src/index.ts","../../sound-builder/src/index.ts","../../export/src/index.ts","../../animation-builder/src/interpolation/LinearInterpolator.ts","../../animation-builder/src/interpolation/NonlinearInterpolators.ts","../../animation-builder/src/interpolation/index.ts","../../animation-builder/src/item.ts","../../animation-builder/src/interpolation/Interpolator.ts","../../animation-builder/src/items/AngleCircle.ts","../../animation-builder/src/items/Limit.ts","../../animation-builder/src/items/Rotation.ts","../../animation-builder/src/items/Scale.ts","../../animation-builder/src/items/Translation.ts","../../animation-builder/src/items/AxisLength.ts","../../animation-builder/src/items/RectSize.ts","../../animation-builder/src/items/Transparency.ts","../../animation-builder/src/items/index.ts","../../objects/src/objects/carobj/index.ts","../../objects/src/objects/circle/index.ts","../../objects/src/objects/line/index.ts","../../objects/src/objects/mathImage/index.ts","../../objects/src/objects/point/index.ts","../../objects/src/objects/polygon/index.ts","../../objects/src/objects/text/index.ts","../../objects/src/objects/coordinateSystem/index.ts","../../objects/src/objects/rectangle/index.ts","../../objects/src/objects/image/index.ts","../../objects/src/index.ts","../../sound-builder/src/item.ts","../../src/index.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","// TODO: Specification all the AnimationBuilderItems.\r\n\r\nimport type { IRendererController } from \"@newcar/objects/src/interfaces/RenderController\";\r\nimport type { IRenderable } from \"@newcar/objects/src/interfaces/Renderable\";\r\n\r\nimport type { AnimationBuilderItem } from \"./item\";\r\n\r\nexport class AnimationBuilder {\r\n  #items: AnimationBuilderItem[] = [];\r\n  #currentAnimateList: AnimationBuilderItem[] = [];\r\n\r\n  /**\r\n   * Play the animation on a `? extends IRenderable & IRendererController` instance.\r\n   * @param rdInstance The `? extends IRenderable & IRendererController` instance.\r\n   */\r\n  playOnCar<T extends IRenderable & IRendererController>(rdInstance: T) {\r\n    for (const i of this.#items) {\r\n      i.onRegister(rdInstance);\r\n    }\r\n    const itemsClone = [...this.#items];\r\n    itemsClone.sort((a, b) => a.startFrame - b.startFrame);\r\n    rdInstance.onUpdate((frame) => {\r\n      for (const i of itemsClone) {\r\n        // Now hold on.\r\n        // This is a very simple algorithm.\r\n        // If you can't understand it, you are just fool.\r\n        // If you can understand it, you are fool, too.\r\n        //                                      ---- 27Onion\r\n        if (i.length !== -1 && frame >= i.startFrame + i.length) {\r\n          // Out-dated.\r\n          continue;\r\n        }\r\n\r\n        if (frame < i.startFrame) {\r\n          // You are not old enough to join this *activity*, bro\r\n          break;\r\n        }\r\n\r\n        // M⚡️U⚡️L⚡️T⚡️I⚡️P⚡️L⚡️A⚡️Y⚡️E⚡️R⚡️-⚡️S⚡️P⚡️O⚡️R⚡️T⚡️S\r\n        i.onDrawFrame(frame - i.startFrame, this);\r\n      }\r\n      for (const builderItem of this.#currentAnimateList) {\r\n        builderItem.onDrawFrame(frame - builderItem.startFrame, this);\r\n      }\r\n      this.#currentAnimateList = [];\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Add an animation builder iteme\r\n   * @param builderItem The builder item.\r\n   * @returns The reference to the builder itself.\r\n   */\r\n  addItem(builderItem: AnimationBuilderItem): AnimationBuilder {\r\n    this.#items.push(builderItem);\r\n\r\n    return this;\r\n  }\r\n\r\n  animate(builderItem: AnimationBuilderItem): AnimationBuilder {\r\n    this.#currentAnimateList.push(builderItem);\r\n\r\n    return this;\r\n  }\r\n}\r\n","import type { IRendererController } from \"@newcar/objects/src/interfaces/RenderController\";\r\nimport type { IRenderable } from \"@newcar/objects/src/interfaces/Renderable\";\r\nimport type { Carobj } from \"@newcar/objects/src/objects/carobj\";\r\n\r\nexport class Core implements IRenderable, IRendererController {\r\n  #ele: HTMLCanvasElement; // The html element of canvas.\r\n  #objects: Carobj[] = []; // The objects of animation.\r\n  #every?: ((agr0: number) => void)[] = []; // Do it for every frame.\r\n  #start?: () => void; // Do it before the animation started.\r\n  #fps = 0; // The FPS.\r\n  #frameImmediately = 0; // Current number of frames.\r\n  #ctx: CanvasRenderingContext2D | null = null; // The context of canvas.\r\n  // eslint-disable-next-line @typescript-eslint/no-inferrable-types\r\n  isSuspend: boolean = false; // The animation is or isnot suspend;\r\n\r\n  /**\r\n   * Create a animation of newcar.\r\n   * @param ele The element of canvas.\r\n   * @param fps The FPS of the animation.\r\n   */\r\n  constructor(ele: HTMLCanvasElement, fps: number) {\r\n    this.#ele = ele;\r\n    this.#ele.style.backgroundColor = \"black\";\r\n    if (this.#ele.getContext) {\r\n      this.#fps = fps;\r\n      this.#ctx = this.#ele.getContext(\"2d\");\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Set this.#every\r\n   * @param command the fuction.\r\n   */\r\n  onUpdate(command: (agr0: number) => void) {\r\n    this.#every?.push(command);\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Set this.#start\r\n   * @param command The function.\r\n   */\r\n  forStart(command: () => void) {\r\n    this.#start = command;\r\n\r\n    return this;\r\n  }\r\n\r\n  pause(frame?: number) {\r\n    if (typeof frame !== \"undefined\") {\r\n      this.#frameImmediately = frame;\r\n    }\r\n    this.isSuspend = true;\r\n  }\r\n\r\n  continue(frame?: number) {\r\n    if (typeof frame !== \"undefined\") {\r\n      this.#frameImmediately = frame;\r\n    }\r\n    this.isSuspend = false;\r\n  }\r\n\r\n  /**\r\n   * Start draw every frame.\r\n   */\r\n  CountFrame() {\r\n    // this.#frameImmediately = 0;\r\n    if (this.#ctx === null) {\r\n      return;\r\n    }\r\n    this.#start && this.#start();\r\n    setInterval(() => {\r\n      this.#ctx?.clearRect(0, 0, this.#ele.width, this.#ele.height);\r\n      // console.log(this.#frameImmediately, this.isSuspend);\r\n      if (!this.isSuspend) {\r\n        this.#frameImmediately += 1;\r\n      }\r\n      if (this.#every) {\r\n        for (const each of this.#every) {\r\n          each && each(this.#frameImmediately);\r\n        }\r\n      }\r\n      for (const object of this.#objects) {\r\n        object.onUpdate(this.#ctx!);\r\n      }\r\n    }, 1000 / this.#fps);\r\n  }\r\n\r\n  /**\r\n   * Link the Car Object on the animation.\r\n   * @param obj the Carobj Object.\r\n   * Attention: the function only can link Car Object,which can't use animation builder.\r\n   */\r\n  linkObject(obj: Carobj) {\r\n    this.#objects.push(obj);\r\n  }\r\n\r\n  get fps() {\r\n    return this.#fps;\r\n  }\r\n\r\n  get framePerSecond() {\r\n    return this.#fps\r\n  }\r\n\r\n  get element() {\r\n    return this.#ele;\r\n  }\r\n}\r\n","import type { IRendererController } from \"@newcar/objects/src/interfaces/RenderController\";\r\nimport type { IRenderable } from \"@newcar/objects/src/interfaces/Renderable\";\r\n\r\nimport type { AudioItem } from \"./item\";\r\n\r\nexport class SoundBuilder {\r\n  /**\r\n   * The first is the object AudioItem\r\n   * The second is whether the audio is playing\r\n   */\r\n  #audioToPlay: [AudioItem, Boolean][] = [];\r\n  #allowToPlay: Boolean = false;\r\n\r\n  playOnCar<T extends IRenderable & IRendererController>(rdInstance: T) {\r\n    rdInstance.onUpdate((curFrame) => {\r\n      // Firstly, check the anthourity about Audio playing\r\n      if (this.#allowToPlay) {\r\n        for (const audio of this.#audioToPlay) {\r\n          // If The current time has passed the start time as the audio isn't be played\r\n          if (curFrame >= audio[0].startFrame! && !audio[1]) {\r\n            audio[0].audio.play();\r\n            // compute the time that it should be and jump to that time.\r\n            audio[0].audio.currentTime = (curFrame - audio[0].startFrame!) / rdInstance.fps;\r\n            audio[1] = true;\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  addAudio(audio: AudioItem) {\r\n    this.#audioToPlay.push([audio, false]);\r\n  }\r\n\r\n  allow() {\r\n    this.#allowToPlay = true;\r\n  }\r\n\r\n  ban() {\r\n    this.#allowToPlay = false;\r\n  }\r\n}\r\n","import type { IRendererController } from \"@newcar/objects/src/interfaces/RenderController\";\r\nimport type { IRenderable } from \"@newcar/objects/src/interfaces/Renderable\";\r\n\r\nexport const exportAnimationToVideo = (\r\n  core: IRenderable & IRendererController,\r\n  startAt: number,\r\n  lastAt: number,\r\n  onFinish: (arg0: string) => void\r\n) => {\r\n  const recorder = createRecorder(core.element, {\r\n    minmeType: \"video/webm\"\r\n  });\r\n  setRecorder(recorder, onFinish);\r\n  record(recorder, core, startAt, lastAt);\r\n};\r\n\r\nconst createRecorder = (element:HTMLCanvasElement ,datas: Record<string, unknown>) => {\r\n  const stream = element.captureStream();\r\n  const recorder = new MediaRecorder(stream, datas);\r\n  return recorder;\r\n}\r\n\r\nconst setRecorder = (recorder: MediaRecorder, onFinish: (arg0: string) => void) => {\r\n  const datas: Blob[] = [];\r\n  recorder.ondataavailable = (event) => {\r\n    if (event.data && event.data.size) {\r\n      datas.push(event.data);\r\n    }\r\n  };\r\n  recorder.onstop = () => {\r\n    const url = URL.createObjectURL(new Blob(datas, {\r\n      type: \"video/webm\"\r\n    }));\r\n    onFinish(url);\r\n  };\r\n}\r\n\r\nconst record = (recorder: MediaRecorder, core: IRenderable & IRendererController, startAt: number, lastAt: number) => {\r\n  const length = lastAt - startAt;\r\n  recorder.start()\r\n  core.continue(startAt);\r\n  setTimeout(() => {\r\n    recorder.stop();\r\n  }, 1000 / core.fps * length);\r\n}\r\n","export const LinearInterpolator = (x: number) => x;\r\n","export const easeInSine = (x: number): number => 1 - Math.cos((x * Math.PI) / 2);\r\n\r\nexport const easeOutSine = (x: number): number => Math.sin((x * Math.PI) / 2);\r\n\r\nexport const easeInOutSine = (x: number): number => -(Math.cos(Math.PI * x) - 1) / 2;\r\n\r\nexport const easeInQuad = (x: number): number => x * x;\r\n\r\nexport const easeOutQuad = (x: number): number => 1 - (1 - x) * (1 - x);\r\n\r\nexport const easeInOutQuad = (x: number): number =>\r\n  x < 0.5 ? 16 * x * x * x * x * x : 1 - (-2 * x + 2) ** 5 / 2;\r\n\r\nexport const easeInCubic = (x: number): number => x * x * x;\r\n\r\nexport const easeOutCubic = (x: number): number => 1 - (1 - x) ** 3;\r\n\r\nexport const easeInOutCubic = (x: number): number =>\r\n  x < 0.5 ? 4 * x * x * x : 1 - (-2 * x + 2) ** 3 / 2;\r\n\r\nexport const easeInQuart = (x: number): number => x * x * x * x;\r\n\r\nexport const easeOutQuart = (x: number): number => 1 - (1 - x) ** 4;\r\n\r\nexport const easeInOutQuart = (x: number): number =>\r\n  x < 0.5 ? 8 * x * x * x * x : 1 - (-2 * x + 2) ** 4 / 2;\r\n\r\nexport const easeInQuint = (x: number): number => x * x * x * x * x;\r\n\r\nexport const easeOutQuint = (x: number): number => 1 - (1 - x) ** 5;\r\n\r\nexport const easeInOutQuint = (x: number): number =>\r\n  x < 0.5 ? 16 * x * x * x * x * x : 1 - (-2 * x + 2) ** 5 / 2;\r\n\r\nexport const easeInExpo = (x: number): number => (x === 0 ? 0 : 2 ** (10 * x - 10));\r\n\r\nexport const easeOutExpo = (x: number): number => (x === 1 ? 1 : 1 - 2 ** (-10 * x));\r\n\r\nexport const easeInOutExpo = (x: number): number =>\r\n  x === 0 ? 0 : x === 1 ? 1 : x < 0.5 ? 2 ** (20 * x - 10) / 2 : (2 - 2 ** (-20 * x + 10)) / 2;\r\n\r\nexport const easeInCirc = (x: number): number => 1 - Math.sqrt(1 - x ** 2);\r\n\r\nexport const easeOutCirc = (x: number): number => Math.sqrt(1 - (x - 1) ** 2);\r\n\r\nexport const easeInOutCirc = (x: number): number =>\r\n  x < 0.5 ? (1 - Math.sqrt(1 - (2 * x) ** 2)) / 2 : (Math.sqrt(1 - (-2 * x + 2) ** 2) + 1) / 2;\r\n\r\nexport function easeInBack(x: number): number {\r\n  const c1 = 1.701_58;\r\n  const c3 = c1 + 1;\r\n\r\n  return c3 * x * x * x - c1 * x * x;\r\n}\r\n\r\nexport function easeOutBack(x: number): number {\r\n  const c1 = 1.701_58;\r\n  const c3 = c1 + 1;\r\n\r\n  return 1 + c3 * (x - 1) ** 3 + c1 * (x - 1) ** 2;\r\n}\r\n\r\nexport function easeInOutBack(x: number): number {\r\n  const c1 = 1.701_58;\r\n  const c2 = c1 * 1.525;\r\n\r\n  return x < 0.5\r\n    ? ((2 * x) ** 2 * ((c2 + 1) * 2 * x - c2)) / 2\r\n    : ((2 * x - 2) ** 2 * ((c2 + 1) * (x * 2 - 2) + c2) + 2) / 2;\r\n}\r\n\r\nexport function easeInElastic(x: number): number {\r\n  const c4 = (2 * Math.PI) / 3;\r\n\r\n  return x === 0 ? 0 : x === 1 ? 1 : -(2 ** (10 * x - 10)) * Math.sin((x * 10 - 10.75) * c4);\r\n}\r\n\r\nexport function easeOutElastic(x: number): number {\r\n  const c4 = (2 * Math.PI) / 3;\r\n\r\n  return x === 0 ? 0 : x === 1 ? 1 : 2 ** (-10 * x) * Math.sin((x * 10 - 0.75) * c4) + 1;\r\n}\r\n\r\nexport function easeInOutElastic(x: number): number {\r\n  const c5 = (2 * Math.PI) / 4.5;\r\n\r\n  return x === 0\r\n    ? 0\r\n    : x === 1\r\n    ? 1\r\n    : x < 0.5\r\n    ? -(2 ** (20 * x - 10) * Math.sin((20 * x - 11.125) * c5)) / 2\r\n    : (2 ** (-20 * x + 10) * Math.sin((20 * x - 11.125) * c5)) / 2 + 1;\r\n}\r\n\r\nexport const easeInBounce = (x: number): number => 1 - easeOutBounce(1 - x);\r\n\r\nexport function easeOutBounce(x: number): number {\r\n  const n1 = 7.5625;\r\n  const d1 = 2.75;\r\n\r\n  if (x < 1 / d1) {\r\n    return n1 * x * x;\r\n  } else if (x < 2 / d1) {\r\n    return n1 * (x -= 1.5 / d1) * x + 0.75;\r\n  } else if (x < 2.5 / d1) {\r\n    return n1 * (x -= 2.25 / d1) * x + 0.9375;\r\n  } else {\r\n    return n1 * (x -= 2.625 / d1) * x + 0.984_375;\r\n  }\r\n}\r\n\r\nexport const easeInOutBounce = (x: number): number =>\r\n  x < 0.5 ? (1 - easeOutBounce(1 - 2 * x)) / 2 : (1 + easeOutBounce(2 * x - 1)) / 2;\r\n","import { LinearInterpolator } from \"./LinearInterpolator\";\r\nimport {\r\n  easeInBack,\r\n  easeInBounce,\r\n  easeInCirc,\r\n  easeInCubic,\r\n  easeInElastic,\r\n  easeInExpo,\r\n  easeInOutBack,\r\n  easeInOutBounce,\r\n  easeInOutCirc,\r\n  easeInOutCubic,\r\n  easeInOutElastic,\r\n  easeInOutExpo,\r\n  easeInOutQuad,\r\n  easeInOutQuart,\r\n  easeInOutQuint,\r\n  easeInOutSine,\r\n  easeInQuad,\r\n  easeInQuart,\r\n  easeInQuint,\r\n  easeInSine,\r\n  easeOutBack,\r\n  easeOutBounce,\r\n  easeOutCirc,\r\n  easeOutCubic,\r\n  easeOutElastic,\r\n  easeOutExpo,\r\n  easeOutQuad,\r\n  easeOutQuart,\r\n  easeOutQuint,\r\n  easeOutSine,\r\n} from \"./NonlinearInterpolators\";\r\n\r\nexport const interpolator = {\r\n  easeInBack,\r\n  easeInBounce,\r\n  easeInCirc,\r\n  easeInCubic,\r\n  easeInElastic,\r\n  easeInExpo,\r\n  easeInOutBack,\r\n  easeInOutBounce,\r\n  easeInOutCirc,\r\n  easeInOutElastic,\r\n  easeInOutCubic,\r\n  easeInOutExpo,\r\n  easeInOutQuad,\r\n  easeInOutQuart,\r\n  easeInOutQuint,\r\n  easeInOutSine,\r\n  easeInQuad,\r\n  easeInQuart,\r\n  easeInQuint,\r\n  easeInSine,\r\n  easeOutBack,\r\n  easeOutBounce,\r\n  easeOutCirc,\r\n  easeOutCubic,\r\n  easeOutElastic,\r\n  easeOutExpo,\r\n  easeOutQuad,\r\n  easeOutQuart,\r\n  easeOutQuint,\r\n  easeOutSine,\r\n  Linear: LinearInterpolator,\r\n};\r\n","import type { IRendererController } from \"@newcar/objects/src/interfaces/RenderController\";\r\nimport type { IRenderable } from \"@newcar/objects/src/interfaces/Renderable\";\r\n\r\nimport type { AnimationBuilder } from \".\";\r\n\r\nexport abstract class AnimationBuilderItem {\r\n  /**\r\n   * Will be called on registration.\r\n   * @param parent The parent object.\r\n   */\r\n\r\n  onRegister<T extends IRenderable & IRendererController>(_carInstance: T): void {}\r\n\r\n  /**\r\n   * Will be called on drawing frame.\r\n   * @param relativeFrameCount The frame count relative to `fstart`.\r\n   */\r\n  abstract onDrawFrame(relativeFrameCount: number, parent: AnimationBuilder): void;\r\n\r\n  /**\r\n   * Decide when the animation starts.\r\n   */\r\n  abstract get startFrame(): number;\r\n\r\n  /**\r\n   * Decide how long the animation lasts.\r\n   */\r\n  abstract get length(): number;\r\n}\r\n","/**\r\n * The interpolator class.\r\n */\r\nexport class Interpolator {\r\n  #startValue: number;\r\n  #endValue: number;\r\n  #interpolator: (a: number) => number;\r\n\r\n  /**\r\n   * To construct an interpolator.\r\n   * @param startValue The start value of it.\r\n   * @param endValue The end value of it.\r\n   * @param interpolationFunction The interpolation function, which receives a real number between 0 and 1 (representing the progress of time) and returns a number between 0 and 1 to represent the progress of the resulting value. The closer to 1 the return value is, the closer to `endValue` the interpolate value will be, otherwise the interpolated value will be closer to `startValue`.\r\n   */\r\n  constructor(startValue: number, endValue: number, interpolationFunction: (a: number) => number) {\r\n    this.#startValue = startValue;\r\n    this.#endValue = endValue;\r\n    this.#interpolator = interpolationFunction;\r\n  }\r\n\r\n  /**\r\n   * Calculate the interpolation with the given progress number.\r\n   * @param n The progress, between 0 and 1\r\n   * @returns The interpolation.\r\n   */\r\n  interpolate(n: number): number {\r\n    return this.#startValue + this.#interpolator(n) * (this.#endValue - this.#startValue);\r\n  }\r\n}\r\n","import type { ICircleAngleMut } from \"@newcar/objects/src/objects/circle/interface\";\r\n\r\nimport type { AnimationBuilder } from \"..\";\r\nimport { Interpolator } from \"../interpolation/Interpolator\";\r\nimport { LinearInterpolator } from \"../interpolation/LinearInterpolator\";\r\nimport { AnimationBuilderItem } from \"../item\";\r\n\r\nexport class AngleCircle extends AnimationBuilderItem {\r\n  #datas: {\r\n    obj: ICircleAngleMut;\r\n    interpolatorstart: Interpolator;\r\n    interpolatorend: Interpolator;\r\n    length: number;\r\n    start: number;\r\n  };\r\n\r\n  constructor(datas: {\r\n    startAt?: number;\r\n    lastsFor?: number;\r\n    from?: [number, number];\r\n    to?: [number, number];\r\n    bindTo?: ICircleAngleMut;\r\n    by?: (x: number) => number;\r\n  }) {\r\n    super();\r\n    let flag = \"\";\r\n    if (\r\n      ((flag = \"startAt\"), datas.startAt === undefined) ||\r\n      ((flag = \"lastsFor\"), datas.lastsFor === undefined) ||\r\n      ((flag = \"to\"), datas.to === undefined) ||\r\n      ((flag = \"bindTo\"), datas.bindTo === undefined)\r\n    ) {\r\n      throw new Error(`be unset data \"${flag}\"`);\r\n    }\r\n    datas.from = datas.from ?? [datas.bindTo.startAngle, datas.bindTo.endAngle];\r\n    this.#datas = {\r\n      length: datas.lastsFor,\r\n      start: datas.startAt,\r\n      obj: datas.bindTo,\r\n      interpolatorstart: new Interpolator(\r\n        datas.from[0],\r\n        datas.to[0],\r\n        datas.by ?? LinearInterpolator,\r\n      ),\r\n      interpolatorend: new Interpolator(datas.from[1], datas.to[1], datas.by ?? LinearInterpolator),\r\n    };\r\n  }\r\n\r\n  onDrawFrame(relativeFrameCount: number, _parent: AnimationBuilder): void {\r\n    this.#datas.obj.startAngle = this.#datas.interpolatorstart.interpolate(\r\n      (relativeFrameCount + 1) / this.#datas.length,\r\n    );\r\n    this.#datas.obj.endAngle = this.#datas.interpolatorend.interpolate(\r\n      (relativeFrameCount + 1) / this.#datas.length,\r\n    );\r\n  }\r\n\r\n  get startFrame(): number {\r\n    return this.#datas.start;\r\n  }\r\n\r\n  get length(): number {\r\n    return this.#datas.length;\r\n  }\r\n}\r\n","import type { IMathImageLimit } from \"@newcar/objects/src/objects/mathImage/interface\";\r\n\r\nimport type { AnimationBuilder } from \"..\";\r\nimport { Interpolator } from \"../interpolation/Interpolator\";\r\nimport { LinearInterpolator } from \"../interpolation/LinearInterpolator\";\r\nimport { AnimationBuilderItem } from \"../item\";\r\n\r\nexport class Limit extends AnimationBuilderItem {\r\n  #datas: {\r\n    obj: IMathImageLimit;\r\n    interpolatorstart: Interpolator;\r\n    interpolatorend: Interpolator;\r\n    length: number;\r\n    start: number;\r\n  };\r\n\r\n  constructor(datas: {\r\n    startAt?: number;\r\n    lastsFor?: number;\r\n    from?: [number, number];\r\n    to?: [number, number];\r\n    by?: (x: number) => number;\r\n    bindTo?: IMathImageLimit;\r\n  }) {\r\n    super();\r\n    let flag = \"\";\r\n    if (\r\n      ((flag = \"startAt\"), datas.startAt === undefined) ||\r\n      ((flag = \"lastsFor\"), datas.lastsFor === undefined) ||\r\n      ((flag = \"to\"), datas.to === undefined) ||\r\n      ((flag = \"bindTo\"), datas.bindTo === undefined)\r\n    ) {\r\n      throw new Error(`be unset data \"${flag}\"`);\r\n    }\r\n    datas.from = datas.from ?? [datas.bindTo.startVariable, datas.bindTo.startVariable];\r\n    this.#datas = {\r\n      length: datas.lastsFor - datas.startAt,\r\n      start: datas.startAt,\r\n      obj: datas.bindTo,\r\n      interpolatorstart: new Interpolator(\r\n        datas.from[0],\r\n        datas.to[0],\r\n        datas.by ?? LinearInterpolator,\r\n      ),\r\n      interpolatorend: new Interpolator(datas.from[1], datas.to[1], datas.by ?? LinearInterpolator),\r\n    };\r\n  }\r\n\r\n  onDrawFrame(relativeFrameCount: number, _parent: AnimationBuilder): void {\r\n    this.#datas.obj.startVariable = this.#datas.interpolatorstart.interpolate(\r\n      (relativeFrameCount + 1) / this.#datas.length,\r\n    );\r\n    this.#datas.obj.endVariable = this.#datas.interpolatorend.interpolate(\r\n      (relativeFrameCount + 1) / this.#datas.length,\r\n    );\r\n  }\r\n\r\n  get startFrame(): number {\r\n    return this.#datas.start;\r\n  }\r\n\r\n  get length(): number {\r\n    return this.#datas.length;\r\n  }\r\n}\r\n","import type { IRotatedMut } from \"@newcar/objects/src/objects/carobj/interface\";\r\n\r\nimport type { AnimationBuilder } from \"..\";\r\nimport { Interpolator } from \"../interpolation/Interpolator\";\r\nimport { LinearInterpolator } from \"../interpolation/LinearInterpolator\";\r\nimport { AnimationBuilderItem } from \"../item\";\r\n\r\nexport class Rotation extends AnimationBuilderItem {\r\n  #datas: {\r\n    obj: IRotatedMut;\r\n    interpolator: Interpolator;\r\n    length: number;\r\n    start: number;\r\n  };\r\n\r\n  constructor(datas: {\r\n    startAt?: number;\r\n    lastsFor?: number;\r\n    from?: number;\r\n    to?: number;\r\n    by?: (x: number) => number;\r\n    bindTo?: IRotatedMut;\r\n  }) {\r\n    super();\r\n    let flag = \"\";\r\n    if (\r\n      ((flag = \"startAt\"), datas.startAt === undefined) ||\r\n      ((flag = \"lastsFor\"), datas.lastsFor === undefined) ||\r\n      ((flag = \"to\"), datas.to === undefined) ||\r\n      ((flag = \"bindTo\"), datas.bindTo === undefined)\r\n    ) {\r\n      throw new Error(`be unset data \"${flag}\"`);\r\n    }\r\n    datas.from = datas.from ?? datas.bindTo.rotation;\r\n    this.#datas = {\r\n      start: datas.startAt,\r\n      obj: datas.bindTo,\r\n      interpolator: new Interpolator(datas.from, datas.to, datas.by ?? LinearInterpolator),\r\n      length: datas.lastsFor,\r\n    };\r\n  }\r\n\r\n  onDrawFrame(relativeFrameCount: number, _parent: AnimationBuilder): void {\r\n    this.#datas.obj.rotation = this.#datas.interpolator.interpolate(\r\n      (relativeFrameCount + 1) / this.#datas.length,\r\n    );\r\n  }\r\n\r\n  get startFrame(): number {\r\n    return this.#datas.start;\r\n  }\r\n\r\n  get length(): number {\r\n    return this.#datas.length;\r\n  }\r\n}\r\n","import type { IScaledMut } from \"@newcar/objects/src/objects/carobj/interface\";\r\n\r\nimport type { AnimationBuilder } from \"..\";\r\nimport { Interpolator } from \"../interpolation/Interpolator\";\r\nimport { LinearInterpolator } from \"../interpolation/LinearInterpolator\";\r\nimport { AnimationBuilderItem } from \"../item\";\r\n\r\nexport class Scale extends AnimationBuilderItem {\r\n  #datas: {\r\n    obj: IScaledMut;\r\n    interpolatorx: Interpolator;\r\n    interpolatory: Interpolator;\r\n    length: number;\r\n    start: number;\r\n  };\r\n\r\n  constructor(datas: {\r\n    startAt?: number;\r\n    lastsFor?: number;\r\n    from?: [number, number];\r\n    to?: [number, number];\r\n    by?: (x: number) => number;\r\n    bindTo?: IScaledMut;\r\n  }) {\r\n    super();\r\n    let flag = \"\";\r\n    if (\r\n      ((flag = \"startAt\"), datas.startAt === undefined) ||\r\n      ((flag = \"lastsFor\"), datas.lastsFor === undefined) ||\r\n      ((flag = \"to\"), datas.to === undefined) ||\r\n      ((flag = \"bindTo\"), datas.bindTo === undefined)\r\n    ) {\r\n      throw new Error(`be unset data \"${flag}\"`);\r\n    }\r\n    datas.from = datas.from ?? [datas.bindTo.scaleX, datas.bindTo.scaleY];\r\n    this.#datas = {\r\n      obj: datas.bindTo,\r\n      interpolatorx: new Interpolator(datas.from[0], datas.to[0], datas.by ?? LinearInterpolator),\r\n      interpolatory: new Interpolator(datas.from[1], datas.to[1], datas.by ?? LinearInterpolator),\r\n      length: datas.lastsFor,\r\n      start: datas.startAt,\r\n    };\r\n  }\r\n\r\n  onDrawFrame(relativeFrameCount: number, _parent: AnimationBuilder): void {\r\n    this.#datas.obj.scaleX = this.#datas.interpolatorx.interpolate(\r\n      (relativeFrameCount + 1) / this.#datas.length,\r\n    );\r\n    this.#datas.obj.scaleY = this.#datas.interpolatory.interpolate(\r\n      (relativeFrameCount + 1) / this.#datas.length,\r\n    );\r\n  }\r\n\r\n  get startFrame(): number {\r\n    return this.#datas.start;\r\n  }\r\n\r\n  get length(): number {\r\n    return this.#datas.length;\r\n  }\r\n}\r\n","import type { IPositionedMut } from \"@newcar/objects/src/objects/carobj/interface\";\r\n\r\nimport type { AnimationBuilder } from \"..\";\r\nimport { Interpolator } from \"../interpolation/Interpolator\";\r\nimport { LinearInterpolator } from \"../interpolation/LinearInterpolator\";\r\nimport { AnimationBuilderItem } from \"../item\";\r\n\r\nexport class Translation extends AnimationBuilderItem {\r\n  #datas: {\r\n    length: number;\r\n    start: number;\r\n    obj: IPositionedMut;\r\n    interpolatorx: Interpolator;\r\n    interpolatory: Interpolator;\r\n  };\r\n\r\n  constructor(datas: {\r\n    startAt?: number;\r\n    lastsFor?: number;\r\n    from?: [number, number];\r\n    to?: [number, number];\r\n    by?: (x: number) => number;\r\n    bindTo?: IPositionedMut;\r\n  }) {\r\n    super();\r\n    let flag = \"\";\r\n    if (\r\n      ((flag = \"startAt\"), datas.startAt === undefined) ||\r\n      ((flag = \"lastsFor\"), datas.lastsFor === undefined) ||\r\n      ((flag = \"to\"), datas.to === undefined) ||\r\n      ((flag = \"bindTo\"), datas.bindTo === undefined)\r\n    ) {\r\n      throw new Error(`be unset data \"${flag}\"`);\r\n    }\r\n    datas.from = datas.from ?? [datas.bindTo.x, datas.bindTo.y];\r\n    this.#datas = {\r\n      length: datas.lastsFor ?? null,\r\n      start: datas.startAt ?? null,\r\n      obj: datas.bindTo ?? null,\r\n      interpolatorx: new Interpolator(datas.from[0], datas.to[0], datas.by ?? LinearInterpolator),\r\n      interpolatory: new Interpolator(datas.from[1], datas.to[1], datas.by ?? LinearInterpolator),\r\n    };\r\n  }\r\n\r\n  get length(): number {\r\n    return this.#datas.length;\r\n  }\r\n\r\n  get startFrame(): number {\r\n    return this.#datas.start;\r\n  }\r\n\r\n  onDrawFrame(relativeFrameCount: number, _parent: AnimationBuilder): void {\r\n    this.#datas.obj.x = this.#datas.interpolatorx.interpolate(\r\n      (relativeFrameCount + 1) / this.#datas.length,\r\n    );\r\n    this.#datas.obj.y = this.#datas.interpolatory.interpolate(\r\n      (relativeFrameCount + 1) / this.#datas.length,\r\n    );\r\n  }\r\n}\r\n","import type { ILengthofAxisX, ILengthofAxisY } from \"@newcar/objects/src/objects/coordinateSystem/interface\";\r\nimport type { AnimationBuilder } from \"..\";\r\nimport { Interpolator } from \"../interpolation/Interpolator\";\r\nimport { LinearInterpolator } from \"../interpolation/LinearInterpolator\";\r\nimport { AnimationBuilderItem } from \"../item\";\r\n\r\nexport class AxisLength extends AnimationBuilderItem {\r\n\r\n  #obj: ILengthofAxisX & ILengthofAxisY;\r\n  #interpolatorstart: Interpolator;\r\n  #interpolatorend: Interpolator;\r\n  #length: number;\r\n  #start: number;\r\n  #from: number[];\r\n  #to: number[]\r\n\r\n  constructor(datas: {\r\n    startAt?: number;\r\n    lastsFor?: number;\r\n    from?: [number, number, number, number];\r\n    to?: [number, number, number, number];\r\n    bindTo?: ILengthofAxisX & ILengthofAxisY;\r\n    by?: (x: number) => number;\r\n  }) {\r\n    super();\r\n    let flag = \"\";\r\n    if (\r\n      ((flag = \"startAt\"), datas.startAt === undefined) ||\r\n      ((flag = \"lastsFor\"), datas.lastsFor === undefined) ||\r\n      ((flag = \"to\"), datas.to === undefined) ||\r\n      ((flag = \"bindTo\"), datas.bindTo === undefined)\r\n    ) {\r\n      throw new Error(`be unset data \"${flag}\"`);\r\n    }\r\n    this.#obj = datas.bindTo; \r\n    this.#from = datas.from ?? [this.#obj.axisPositiveXLength, this.#obj.axisPositiveYLength, this.#obj.axisNegativeXLength, this.#obj.axisNegativeYLength];\r\n    this.#to = datas.to;\r\n    this.#length = datas.lastsFor;\r\n    this.#start = datas.startAt;\r\n\r\n    this.#interpolatorstart = new Interpolator(\r\n      this.#from[0],\r\n      this.#to[0],\r\n      datas.by ?? LinearInterpolator\r\n    );\r\n    this.#interpolatorend = new Interpolator(\r\n      datas.from![1], \r\n      datas.to[1], \r\n      datas.by ?? LinearInterpolator\r\n    );\r\n  };\r\n\r\n\r\n  onDrawFrame(relativeFrameCount: number, _parent: AnimationBuilder): void {\r\n    this.#obj.axisPositiveXLength = this.#interpolatorstart.interpolate(\r\n      (relativeFrameCount + 1) / this.#length,\r\n    );\r\n    this.#obj.axisPositiveYLength = this.#interpolatorend.interpolate(\r\n      (relativeFrameCount + 1) / this.#length,\r\n    );\r\n    this.#obj.axisNegativeXLength = this.#interpolatorstart.interpolate(\r\n      (relativeFrameCount + 1) / this.#length,\r\n    );\r\n    this.#obj.axisNegativeYLength = this.#interpolatorend.interpolate(\r\n      (relativeFrameCount + 1) / this.#length,\r\n    );\r\n  }\r\n\r\n  get startFrame(): number {\r\n    return this.#start;\r\n  }\r\n\r\n  get length(): number {\r\n    return this.#length;\r\n  }\r\n}\r\n","import type { IRectSize } from \"@newcar/objects/src/objects/rectangle/interface\";\r\nimport type { AnimationBuilder } from \"..\";\r\nimport { Interpolator } from \"../interpolation/Interpolator\";\r\nimport { LinearInterpolator } from \"../interpolation/LinearInterpolator\";\r\nimport { AnimationBuilderItem } from \"../item\";\r\n\r\nexport class RectSize extends AnimationBuilderItem {\r\n\r\n  #obj: IRectSize;\r\n  #interpolatorwidth: Interpolator;\r\n  #interpolatorlength: Interpolator;\r\n  #length: number;\r\n  #start: number;\r\n  #from: number[];\r\n  #to: number[]\r\n\r\n  constructor(datas: {\r\n    startAt?: number;\r\n    lastsFor?: number;\r\n    from?: [number, number];\r\n    to?: [number, number];\r\n    bindTo?: IRectSize;\r\n    by?: (x: number) => number;\r\n  }) {\r\n    super();\r\n    let flag = \"\";\r\n    if (\r\n      ((flag = \"startAt\"), datas.startAt === undefined) ||\r\n      ((flag = \"lastsFor\"), datas.lastsFor === undefined) ||\r\n      ((flag = \"to\"), datas.to === undefined) ||\r\n      ((flag = \"bindTo\"), datas.bindTo === undefined)\r\n    ) {\r\n      throw new Error(`be unset data \"${flag}\"`);\r\n    }\r\n    this.#obj = datas.bindTo; \r\n    this.#from = datas.from ?? [this.#obj.width, this.#obj.length];\r\n    this.#to = datas.to;\r\n    this.#length = datas.lastsFor;\r\n    this.#start = datas.startAt;\r\n\r\n    this.#interpolatorwidth = new Interpolator(\r\n      this.#from[0],\r\n      this.#to[0],\r\n      datas.by ?? LinearInterpolator\r\n    );\r\n    this.#interpolatorlength = new Interpolator(\r\n      datas.from![1], \r\n      datas.to[1], \r\n      datas.by ?? LinearInterpolator\r\n    );\r\n  };\r\n\r\n\r\n  onDrawFrame(relativeFrameCount: number, _parent: AnimationBuilder): void {\r\n    this.#obj.width = this.#interpolatorwidth.interpolate(\r\n      (relativeFrameCount + 1) / this.#length,\r\n    );\r\n    this.#obj.length = this.#interpolatorlength.interpolate(\r\n      (relativeFrameCount + 1) / this.#length,\r\n    );\r\n  }\r\n\r\n  get startFrame(): number {\r\n    return this.#start;\r\n  }\r\n\r\n  get length(): number {\r\n    return this.#length;\r\n  }\r\n}\r\n","import type { ITransparencyMut } from \"@newcar/objects/src/objects/carobj/interface\";\r\nimport type { AnimationBuilder } from \"..\";\r\nimport { Interpolator } from \"../interpolation/Interpolator\";\r\nimport { LinearInterpolator } from \"../interpolation/LinearInterpolator\";\r\nimport { AnimationBuilderItem } from \"../item\";\r\n\r\nexport class Transparency extends AnimationBuilderItem {\r\n\r\n  #obj: ITransparencyMut;\r\n  #interpolator: Interpolator;\r\n  #length: number;\r\n  #start: number;\r\n  #from: number;\r\n  #to: number\r\n\r\n  constructor(datas: {\r\n    startAt?: number;\r\n    lastsFor?: number;\r\n    from?: number;\r\n    to?: number;\r\n    bindTo?: ITransparencyMut;\r\n    by?: (x: number) => number;\r\n  }) {\r\n    super();\r\n    let flag = \"\";\r\n    if (\r\n      ((flag = \"startAt\"), datas.startAt === undefined) ||\r\n      ((flag = \"lastsFor\"), datas.lastsFor === undefined) ||\r\n      ((flag = \"to\"), datas.to === undefined) ||\r\n      ((flag = \"bindTo\"), datas.bindTo === undefined)\r\n    ) {\r\n      throw new Error(`be unset data \"${flag}\"`);\r\n    }\r\n    this.#obj = datas.bindTo; \r\n    this.#from = datas.from ?? this.#obj.transparency;\r\n    this.#to = datas.to;\r\n    this.#length = datas.lastsFor;\r\n    this.#start = datas.startAt;\r\n\r\n    this.#interpolator = new Interpolator(\r\n      this.#from,\r\n      this.#to,\r\n      datas.by ?? LinearInterpolator\r\n    );\r\n  };\r\n\r\n\r\n  onDrawFrame(relativeFrameCount: number, _parent: AnimationBuilder): void {\r\n    this.#obj.transparency = this.#interpolator.interpolate(\r\n      (relativeFrameCount + 1) / this.#length,\r\n    );\r\n  }\r\n\r\n  get startFrame(): number {\r\n    return this.#start;\r\n  }\r\n\r\n  get length(): number {\r\n    return this.#length;\r\n  }\r\n}","import { AnimationBuilderItem } from \"../item\";\r\nimport { AngleCircle } from \"./AngleCircle\";\r\nimport { Limit } from \"./Limit\";\r\nimport { Rotation } from \"./Rotation\";\r\nimport { Scale } from \"./Scale\";\r\nimport { Translation } from \"./Translation\";\r\nimport { AxisLength } from \"./AxisLength\";\r\nimport { RectSize } from \"./RectSize\";\r\nimport { Transparency } from \"./Transparency\"\r\n\r\nexport const animation = {\r\n  Translation,\r\n  Rotation,\r\n  Scale,\r\n  Limit,\r\n  AngleCircle,\r\n  AnimationBuilderItem,\r\n  AxisLength,\r\n  RectSize,\r\n  Transparency,\r\n};\r\n","import type { carobject } from \"./input_type\";\r\nimport type { IPositionedMut, IRotatedMut, IScaledMut, ITransparencyMut } from \"./interface\";\r\n\r\nexport class Carobj implements IPositionedMut, IRotatedMut, IScaledMut, ITransparencyMut {\r\n  display = true; // The Object is or isnot display.\r\n  #x = 0;\r\n  #y = 0;\r\n  #rotation = 0;\r\n  #scaleX = 1;\r\n  #scaleY = 1;\r\n  #contextX;\r\n  #contextY;\r\n  #children: Carobj[] = [];\r\n  #operation: GlobalCompositeOperation = \"source-over\";\r\n  #transparency: number;\r\n\r\n  constructor(datas: carobject) {\r\n    this.x = datas.x;\r\n    this.y = datas.y;\r\n    typeof datas.contextX === \"undefined\"\r\n      ? (this.#contextX = this.#x)\r\n      : (this.#contextX = datas.contextX!);\r\n    typeof datas.contextY === \"undefined\"\r\n      ? (this.#contextY = this.#y)\r\n      : (this.#contextY = datas.contextY!);\r\n    typeof datas.scaleX !== \"undefined\" && (this.#scaleX = datas.scaleX!);\r\n    typeof datas.scaleY !== \"undefined\" && (this.#scaleY = datas.scaleY!);\r\n    typeof datas.display !== \"undefined\" && (this.display = datas.display!);\r\n    typeof datas.rotation !== \"undefined\" && (this.#rotation = datas.rotation!);\r\n    typeof datas.operation !== \"undefined\" && (this.#operation = datas.operation!);\r\n    typeof datas.children !== \"undefined\" && (this.#children = datas.children!);\r\n    this.#transparency = datas.transparency ?? 1;\r\n  }\r\n\r\n  get transparency() {\r\n    return this.#transparency;\r\n  }\r\n\r\n  set transparency(value: number) {\r\n    this.#transparency = value;\r\n  }\r\n\r\n  /**\r\n   * Get called on each frame.\r\n   * @param ctx The context instance of the canvas object.\r\n   */\r\n  onDraw(ctx: CanvasRenderingContext2D, element?: HTMLElement) {\r\n    return ctx;\r\n  }\r\n\r\n  /**\r\n   * Actually get called on each frame. The difference to `onDraw()` is that `onDraw()` is used for inherited classes to implement their render while this will be actually called directly on each frame.\r\n   * We will do some transformation on this frame.\r\n   * @param ctx The context instance.\r\n   */\r\n  onUpdate(ctx: CanvasRenderingContext2D) {\r\n    if (this.display === true) {\r\n      ctx.save();\r\n      ctx.translate(this.x, this.y);\r\n      // ctx.translate(this.#x, this.#y);\r\n      ctx.rotate(this.#rotation);\r\n      ctx.scale(this.#scaleX, this.#scaleY);\r\n      ctx.globalAlpha = this.#transparency;\r\n      ctx.globalCompositeOperation = this.#operation;\r\n      this.onDraw(ctx);\r\n      for (const child of this.#children) {\r\n        child.onUpdate(ctx);\r\n      }\r\n      ctx.restore();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set the display to false.\r\n   */\r\n  hide() {\r\n    this.display = false;\r\n  }\r\n\r\n  /**\r\n   * Set the display to true.\r\n   */\r\n  appear() {\r\n    this.display = true;\r\n  }\r\n\r\n  setContextPosition(x: number, y: number) {\r\n    this.#contextX = x;\r\n    this.#contextY = y;\r\n\r\n    return this;\r\n  }\r\n\r\n  get children() {\r\n    return this.#children;\r\n  }\r\n\r\n  get x() {\r\n    return this.#x;\r\n  }\r\n\r\n  set x(value: number) {\r\n    this.#x = value;\r\n  }\r\n\r\n  get y() {\r\n    return this.#y;\r\n  }\r\n\r\n  set y(value: number) {\r\n    this.#y = value;\r\n  }\r\n\r\n  set scaleX(value: number) {\r\n    this.#scaleX = value;\r\n  }\r\n\r\n  get scaleX(): number {\r\n    return this.#scaleX;\r\n  }\r\n\r\n  set scaleY(value: number) {\r\n    this.#scaleY = value;\r\n  }\r\n\r\n  get scaleY(): number {\r\n    return this.#scaleY;\r\n  }\r\n\r\n  get contextX() {\r\n    return this.#contextX;\r\n  }\r\n\r\n  get contextY() {\r\n    return this.#contextY;\r\n  }\r\n\r\n  /**\r\n   * Return the rotation of the component, in radians.\r\n   */\r\n  get rotation() {\r\n    return this.#rotation;\r\n  }\r\n\r\n  /**\r\n   * Set the rotation of the component. Remember, the value is in radians (which 2*pi == 360deg).\r\n   */\r\n  set rotation(value: number) {\r\n    this.#rotation = value;\r\n  }\r\n\r\n  get operation() {\r\n    return this.#operation;\r\n  }\r\n\r\n  set operation(value: GlobalCompositeOperation) {\r\n    this.#operation = value;\r\n  }\r\n\r\n  addChildren(...children: Carobj[]) {\r\n    for (const child of children) {\r\n      this.#children.push(child);\r\n    }\r\n    return this;\r\n  }\r\n}\r\n","/* eslint-disable @typescript-eslint/no-inferrable-types */\r\nimport { Carobj } from \"../carobj\";\r\nimport type { carobject } from \"../carobj/input_type\";\r\nimport type { circleobject } from \"./input_type\";\r\nimport type { ICircleAngle } from \"./interface\";\r\n\r\nexport class Circle extends Carobj implements ICircleAngle {\r\n  radius: number;\r\n  #startAngle: number;\r\n  #endAngle: number;\r\n  borderColor: string = \"white\";\r\n  borderWidth: number = 1;\r\n  fillColor: string | null = null;\r\n\r\n  constructor(radius: number, datas: circleobject & carobject) {\r\n    super(datas);\r\n    this.radius = radius;\r\n    this.x = datas.x;\r\n    this.y = datas.y;\r\n    typeof datas.startAngle === \"undefined\"\r\n      ? (this.#startAngle = 0)\r\n      : (this.#startAngle = datas.startAngle!);\r\n    typeof datas.endAngle === \"undefined\"\r\n      ? (this.#endAngle = 2 * Math.PI)\r\n      : (this.#endAngle = datas.startAngle!);\r\n    if (typeof datas.borderColor !== \"undefined\") {\r\n      this.borderColor = datas.borderColor;\r\n    }\r\n    if (typeof datas.borderWidth !== \"undefined\") {\r\n      this.borderWidth = datas.borderWidth;\r\n    }\r\n    if (typeof datas.fillColor !== \"undefined\") {\r\n      this.fillColor = datas.fillColor;\r\n    }\r\n  }\r\n\r\n  override onDraw(ctx: CanvasRenderingContext2D) {\r\n    super.onDraw(ctx);\r\n    ctx.lineWidth = this.borderWidth;\r\n    ctx.moveTo(this.contextX, this.contextY);\r\n    ctx.beginPath();\r\n    ctx.arc(0, 0, this.radius, this.#startAngle, this.#endAngle);\r\n    if (this.fillColor !== null) {\r\n      ctx.fillStyle = this.fillColor!;\r\n      ctx.fill();\r\n    }\r\n    ctx.strokeStyle = this.borderColor!;\r\n    ctx.stroke();\r\n\r\n    return ctx;\r\n  }\r\n\r\n  get startAngle() {\r\n    return this.#startAngle;\r\n  }\r\n\r\n  set startAngle(value: number) {\r\n    this.#startAngle = value;\r\n  }\r\n\r\n  get endAngle() {\r\n    return this.#endAngle;\r\n  }\r\n\r\n  set endAngle(value: number) {\r\n    this.#endAngle = value;\r\n  }\r\n}\r\n","import { Carobj } from \"../carobj\";\r\nimport type { carobject } from \"../carobj/input_type\";\r\nimport type { Point } from \"../point\";\r\nimport type { lineobject } from \"./input_type\";\r\n\r\nexport class Line extends Carobj {\r\n  #startPoint: Point;\r\n  #endPoint: Point;\r\n  // eslint-disable-next-line @typescript-eslint/no-inferrable-types\r\n  color: string = \"white\";\r\n  // eslint-disable-next-line @typescript-eslint/no-inferrable-types\r\n  width: number = 1;\r\n\r\n  constructor(datas: lineobject & carobject) {\r\n    super(datas);\r\n    this.#startPoint = datas.startPoint;\r\n    this.#endPoint = datas.endPoint;\r\n    if (typeof datas.color !== \"undefined\") {\r\n      this.color = datas.color;\r\n    }\r\n    if (typeof datas.width !== \"undefined\") {\r\n      this.width = datas.width;\r\n    }\r\n  }\r\n\r\n  override onDraw(ctx: CanvasRenderingContext2D) {\r\n    super.onDraw(ctx);\r\n    ctx.beginPath();\r\n    ctx.strokeStyle = `${this.color}`;\r\n    ctx.lineWidth = this.width;\r\n    ctx.moveTo(this.primaryPoints[0].x, this.primaryPoints[0].y);\r\n    ctx.lineTo(this.primaryPoints[1].x, this.primaryPoints[1].y);\r\n    ctx.stroke();\r\n\r\n    return ctx;\r\n  }\r\n\r\n  get primaryPoints() {\r\n    return [this.#startPoint, this.#endPoint];\r\n  }\r\n\r\n  get startX() {\r\n    return this.#startPoint.x;\r\n  }\r\n\r\n  set startX(value: number) {\r\n    this.#startPoint.x = value;\r\n  }\r\n\r\n  get startY() {\r\n    return this.#startPoint.y;\r\n  }\r\n\r\n  set startY(value: number) {\r\n    this.#startPoint.y = value;\r\n  }\r\n\r\n  get endX() {\r\n    return this.#endPoint.x;\r\n  }\r\n\r\n  set endX(value: number) {\r\n    this.#endPoint.x = value;\r\n  }\r\n\r\n  get endY() {\r\n    return this.#endPoint.y;\r\n  }\r\n\r\n  set endY(value: number) {\r\n    this.#endPoint.y = value;\r\n  }\r\n}\r\n","// TODO: The thickness of MathImage\r\nimport { Carobj } from \"../carobj\";\r\nimport type { carobject } from \"../carobj/input_type\";\r\nimport type { mathimageobject } from \"./input_type\";\r\nimport type { IMathImageLimit } from \"./interface\";\r\n\r\nexport class MathImage extends Carobj implements IMathImageLimit {\r\n  #imageFunction: (arg0: number) => number;\r\n  #startVariable: number;\r\n  #endVariable: number;\r\n  #color = \"white\";\r\n\r\n  constructor(datas: mathimageobject & carobject) {\r\n    super(datas);\r\n    this.#imageFunction = datas.f;\r\n    this.#startVariable = datas.start;\r\n    this.#endVariable = datas.end;\r\n    if (datas.color !== undefined) {\r\n      this.#color = datas.color!;\r\n    }\r\n  }\r\n\r\n  override onDraw(ctx: CanvasRenderingContext2D) {\r\n    super.onDraw(ctx);\r\n    ctx.fillStyle = this.#color;\r\n    ctx.beginPath();\r\n    ctx.moveTo(this.#startVariable, this.#imageFunction(this.#startVariable));\r\n    let variable = this.#startVariable;\r\n    for (variable; variable <= this.#endVariable; variable += 1) {\r\n      ctx.lineTo(variable, this.#imageFunction(variable));\r\n    }\r\n    ctx.stroke();\r\n\r\n    return ctx;\r\n  }\r\n\r\n  get startVariable() {\r\n    return this.#startVariable;\r\n  }\r\n\r\n  set startVariable(value: number) {\r\n    this.#startVariable = value;\r\n  }\r\n\r\n  get endVariable() {\r\n    return this.#endVariable;\r\n  }\r\n\r\n  set endVariable(value: number) {\r\n    this.#endVariable = value;\r\n  }\r\n\r\n  get color() {\r\n    return this.#color;\r\n  }\r\n\r\n  set color(value: string) {\r\n    this.#color = value;\r\n  }\r\n}\r\n","// TODO: Drawable point.\r\nimport { Carobj } from \"../carobj\";\r\nimport type { carobject } from \"../carobj/input_type\";\r\nimport type { IPositionedMut } from \"../carobj/interface\";\r\nimport type { pointobject } from \"./input_type\";\r\n\r\nexport class Point extends Carobj implements IPositionedMut {\r\n  constructor(datas: pointobject & carobject) {\r\n    super(datas);\r\n    this.x = datas.x;\r\n    this.y = datas.y;\r\n  }\r\n\r\n  override onDraw(ctx: CanvasRenderingContext2D) {\r\n    super.onDraw(ctx);\r\n\r\n    return ctx;\r\n  }\r\n}\r\n","// TODO: Fix the drawing bug.\r\nimport { Carobj } from \"../carobj\";\r\nimport type { carobject } from \"../carobj/input_type\";\r\nimport type { Point } from \"../point\";\r\nimport type { polygonobject } from \"./input_type\";\r\n\r\nexport class Polygon extends Carobj {\r\n  points: Point[] = [];\r\n  // eslint-disable-next-line @typescript-eslint/no-inferrable-types\r\n  borderColor: string = \"white\";\r\n  // eslint-disable-next-line @typescript-eslint/no-inferrable-types\r\n  borderWidth: number = 1;\r\n  fillColor: string | null = null;\r\n\r\n  constructor(datas: carobject & polygonobject) {\r\n    super(datas);\r\n    this.points = datas.points;\r\n    if (typeof datas.borderColor !== \"undefined\") {\r\n      this.borderColor = datas.borderColor;\r\n    }\r\n    if (typeof datas.fillColor !== \"undefined\") {\r\n      this.fillColor = datas.fillColor;\r\n    }\r\n    if (typeof datas.borderWidth !== \"undefined\") {\r\n      this.borderWidth = datas.borderWidth;\r\n    }\r\n  }\r\n\r\n  override onDraw(ctx: CanvasRenderingContext2D): CanvasRenderingContext2D {\r\n    ctx.lineWidth = this.borderWidth;\r\n    ctx.strokeStyle = `${this.borderColor}`;\r\n    if (this.fillColor !== null) {\r\n      ctx.fillStyle = `${this.fillColor}`;\r\n      ctx.fill();\r\n    }\r\n    ctx.moveTo(this.points[0].x, this.points[0].y);\r\n    ctx.beginPath();\r\n    for (const point of this.points) {\r\n      ctx.lineTo(point.x, point.y);\r\n    }\r\n    ctx.lineTo(this.points[0].x, this.points[0].y);\r\n    ctx.stroke();\r\n\r\n    return ctx;\r\n  }\r\n}\r\n","import { Carobj } from \"../carobj\";\r\nimport type { carobject } from \"../carobj/input_type\";\r\nimport type { IPositionedMut } from \"../carobj/interface\";\r\nimport type { textobject } from \"./input_type\";\r\nimport type { ITextEditable } from \"./interface\";\r\n\r\nexport class Text extends Carobj implements ITextEditable, IPositionedMut {\r\n  #text: string;\r\n  #size: number;\r\n  #color: string;\r\n  #fontFamily = \"sans-serif\";\r\n  #align: CanvasTextAlign = \"start\";\r\n  #baseline: CanvasTextBaseline = \"middle\";\r\n  #hollow: Boolean;\r\n  constructor(text: string, datas: textobject & carobject) {\r\n    super(datas);\r\n    this.#text = text;\r\n    typeof datas.size === \"undefined\" ? (this.#size = 10) : (this.#size = datas.size);\r\n    typeof datas.color === \"undefined\" ? (this.#color = \"white\") : (this.#color = datas.color);\r\n    if (typeof datas.fontFamily !== \"undefined\") {\r\n      this.fontFamily = datas.fontFamily;\r\n    }\r\n    if (typeof datas.align !== \"undefined\") {\r\n      this.#align = datas.align;\r\n    }\r\n    if (typeof datas.baseline !== \"undefined\") {\r\n      this.#baseline = datas.baseline;\r\n    }\r\n    this.#hollow = datas.hollow ?? false\r\n  }\r\n\r\n  override onDraw(ctx: CanvasRenderingContext2D) {\r\n    super.onDraw(ctx);\r\n    ctx.font = `${this.#size}px ${this.#fontFamily}`;\r\n    // console.log(this.#size, this.#fontFamily);\r\n    // console.log(`${this.#size}px ${this.#fontFamily}`);\r\n    ctx.textAlign = this.#align;\r\n    ctx.textBaseline = this.#baseline;\r\n    if (!this.#hollow) {\r\n      ctx.fillStyle = this.#color;\r\n      ctx.fillText(this.#text, 0, 0);\r\n    } else if (this.#hollow) {\r\n      ctx.strokeStyle = this.#color;\r\n      ctx.strokeText(this.#text, 0, 0)\r\n    }\r\n\r\n    return ctx;\r\n  }\r\n\r\n  get color() {\r\n    return this.#color;\r\n  }\r\n\r\n  set color(value: string) {\r\n    this.#color = value;\r\n  }\r\n\r\n  get fontFamily() {\r\n    return this.#fontFamily;\r\n  }\r\n\r\n  set fontFamily(value: string) {\r\n    this.#fontFamily = value;\r\n  }\r\n\r\n  get align() {\r\n    return this.#align;\r\n  }\r\n\r\n  set align(value: CanvasTextAlign) {\r\n    this.#align = value;\r\n  }\r\n\r\n  get baseline() {\r\n    return this.#baseline;\r\n  }\r\n\r\n  set baseline(value: CanvasTextBaseline) {\r\n    this.#baseline = value;\r\n  }\r\n\r\n  get text() {\r\n    return this.#text;\r\n  }\r\n\r\n  set text(value) {\r\n    this.#text = value;\r\n  }\r\n\r\n  get size() {\r\n    return this.#size;\r\n  }\r\n\r\n  set size(value: number) {\r\n    this.#size = value;\r\n  }\r\n}\r\n","import { Carobj } from \"../carobj\";\r\nimport type { carobject } from \"../carobj/input_type\";\r\nimport type { coordinate_systemobject } from \"./input_type\";\r\nimport { ILengthofAxisX, ILengthofAxisY, ISystemDirection } from \"./interface\"\r\n\r\nexport class CoordinateSystem extends Carobj implements ILengthofAxisX, ILengthofAxisY, ISystemDirection{\r\n  #axisPositiveXLength: number;\r\n  #axisPositiveYLength: number;\r\n  #axisXDirection: \"left\" | \"right\";\r\n  #axisYDirection: \"top\" | \"bottom\";\r\n  #color: string;\r\n  #axisNegativeXLength: number;\r\n  #axisNegativeYLength: number;\r\n\r\n  constructor(axisPositiveXLength: number, axisPositiveYLength: number, axisNegativeXLength: number, axisNegativeYLength: number, datas: coordinate_systemobject & carobject) {\r\n    super(datas);\r\n    this.#axisPositiveXLength = axisPositiveXLength;\r\n    this.#axisPositiveYLength = axisPositiveYLength;\r\n    this.#axisNegativeXLength = axisNegativeXLength;\r\n    this.#axisNegativeYLength = axisNegativeYLength;\r\n    this.#axisXDirection = datas.axisXDirection ?? \"right\";\r\n    this.#axisYDirection = datas.axisYDirection ?? \"top\"\r\n    this.#color = datas.color ?? \"white\"\r\n  }\r\n  get axisNegativeXLength(): number {\r\n    return this.#axisNegativeXLength;\r\n  }\r\n\r\n  set axisNegativeXLength(value: number) {\r\n    this.#axisNegativeXLength = value;\r\n  }\r\n\r\n  get axisNegativeYLength(): number {\r\n    return this.#axisNegativeYLength;\r\n  }\r\n\r\n  set axisNegativeYLength(value: number) {\r\n    this.#axisNegativeYLength = value;\r\n  }\r\n\r\n  get axisXDirection(): \"left\" | \"right\" {\r\n    return this.#axisXDirection;\r\n  }\r\n\r\n  set axisXDirection(value: \"left\" | \"right\") {\r\n    this.#axisXDirection = value;\r\n  }\r\n  \r\n  get axisYDirection(): \"top\" | \"bottom\" {\r\n    return this.#axisYDirection;\r\n  }\r\n\r\n  set axisYDirection(value: \"top\" | \"bottom\") {\r\n    this.#axisYDirection = value;\r\n  }\r\n\r\n  get axisPositiveYLength(): number {\r\n    return this.#axisPositiveYLength;\r\n  }\r\n\r\n  set axisPositiveYLength(value: number) {\r\n    this.#axisPositiveYLength = value;\r\n  }\r\n\r\n  get axisPositiveXLength(): number {\r\n    return this.#axisPositiveXLength;\r\n  }\r\n\r\n  set axisPositiveXLength(value: number) {\r\n    this.#axisPositiveXLength = value;\r\n  }\r\n\r\n  override onDraw(ctx: CanvasRenderingContext2D) {\r\n    if (this.#axisXDirection === \"left\") {\r\n      ctx.scale(-1, 1);\r\n    }\r\n    if (this.#axisYDirection === \"top\") {\r\n      ctx.scale(1, -1);\r\n    }\r\n    ctx.strokeStyle = `${this.#color}`;\r\n    // draw axis X\r\n    ctx.moveTo(-this.#axisNegativeXLength, 0);\r\n    ctx.lineTo(this.#axisPositiveXLength, 0);\r\n    ctx.moveTo(this.#axisPositiveXLength, 0);\r\n    ctx.lineTo(this.#axisPositiveXLength - 6, 6);\r\n    ctx.moveTo(this.#axisPositiveXLength, 0);\r\n    ctx.lineTo(this.#axisPositiveXLength - 6, -6);\r\n    // draw axis Y\r\n    ctx.moveTo(0, -this.#axisNegativeYLength);\r\n    ctx.lineTo(0, this.#axisPositiveYLength);\r\n    ctx.moveTo(0, this.#axisPositiveYLength);\r\n    ctx.lineTo(6, this.#axisPositiveYLength - 6);\r\n    ctx.moveTo(0, this.#axisPositiveYLength);\r\n    ctx.lineTo(-6, this.#axisPositiveYLength - 6);\r\n    ctx.stroke();\r\n    return ctx;\r\n  }\r\n}\r\n","import { Carobj } from \"../carobj\";\r\nimport { carobject } from \"../carobj/input_type\";\r\nimport { rectangleobject } from \"./input_type\";\r\nimport { IRectSize } from \"./interface\";\r\n\r\nexport class Rectangle extends Carobj implements IRectSize{\r\n  length: number;\r\n  width: number;\r\n  borderWidth: number;\r\n  borderColor: string;\r\n  fillColor: string;\r\n\r\n  constructor(datas: carobject & rectangleobject) {\r\n    super(datas);\r\n    this.length = datas.length;\r\n    this.width = datas.length;\r\n    this.borderColor = datas.borderColor ?? \"white\";\r\n    this.borderWidth = datas.borderWidth ?? 1;\r\n    this.fillColor = datas.fillColor! ?? null;\r\n  }\r\n\r\n  override onDraw(ctx: CanvasRenderingContext2D, element?: HTMLElement | undefined): CanvasRenderingContext2D {\r\n    ctx.lineWidth = this.borderWidth\r\n    ctx.strokeStyle = `${this.borderColor}`;\r\n    if (this.fillColor !== null) {\r\n      ctx.fillStyle = `${this.fillColor}`;\r\n      ctx.fill();\r\n    }\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(this.length, 0);\r\n    ctx.lineTo(this.length, this.width);\r\n    ctx.lineTo(0, this.width);\r\n    ctx.lineTo(0, 0 - 0.5 * this.borderWidth);\r\n    ctx.stroke();\r\n\r\n    return ctx;\r\n  }\r\n}\r\n","// TODO: Use the paths of iamges.\r\n\r\nimport { Carobj } from \"../carobj\";\r\nimport { carobject } from \"../carobj/input_type\";\r\n\r\nexport class Image extends Carobj {\r\n  #image: CanvasImageSource;\r\n\r\n  constructor(image: CanvasImageSource, datas: carobject) {\r\n    super(datas);\r\n    this.#image = image;\r\n  }\r\n\r\n  override onDraw(ctx: CanvasRenderingContext2D, element?: HTMLElement | undefined): CanvasRenderingContext2D {\r\n    ctx.drawImage(this.#image, this.x ,this.y)\r\n    return ctx;\r\n  }\r\n}\r\n","import { Carobj } from \"./objects/carobj\";\r\nimport { Circle } from \"./objects/circle\";\r\nimport { Line } from \"./objects/line\";\r\nimport { MathImage } from \"./objects/mathImage\";\r\nimport { Point } from \"./objects/point\";\r\nimport { Polygon } from \"./objects/polygon\";\r\nimport { Text } from \"./objects/text\";\r\nimport { CoordinateSystem } from \"./objects/coordinateSystem\";\r\nimport { Rectangle } from \"./objects/rectangle\";\r\nimport { Image } from \"./objects/image\";\r\n\r\nexport const object = {\r\n  Carobj,\r\n  CoordinateSystem,\r\n  Text,\r\n  Point,\r\n  Line,\r\n  MathImage,\r\n  Circle,\r\n  Polygon,\r\n  Rectangle,\r\n  Image,\r\n};\r\n","export class AudioItem {\r\n  #path: string | null = null;\r\n  #startFrame: number | null = null;\r\n  #audio: HTMLAudioElement;\r\n  // eslint-disable-next-line @typescript-eslint/no-inferrable-types\r\n  #volume: number = 1;\r\n\r\n  constructor(path: string, startFrame: number, volume: number) {\r\n    this.#path = path;\r\n    this.#startFrame = startFrame;\r\n    this.#audio = new Audio(this.#path);\r\n    this.#volume = volume;\r\n    this.#audio.volume = this.#volume;\r\n  }\r\n\r\n  get path() {\r\n    return this.#path;\r\n  }\r\n\r\n  get startFrame() {\r\n    return this.#startFrame;\r\n  }\r\n\r\n  get audio() {\r\n    return this.#audio;\r\n  }\r\n}\r\n",null],"names":["__classPrivateFieldGet","receiver","state","kind","f","TypeError","has","call","value","get","__classPrivateFieldSet","set","AnimationBuilder","playOnCar","rdInstance","i","onRegister","itemsClone","sort","a","b","startFrame","onUpdate","frame","length","onDrawFrame","builderItem","addItem","push","animate","Core","isSuspend","constructor","ele","fps","style","backgroundColor","getContext","command","forStart","pause","continue","CountFrame","setInterval","clearRect","width","height","each","object","linkObject","obj","framePerSecond","element","SoundBuilder","curFrame","audio","play","currentTime","addAudio","allow","ban","exportAnimationToVideo","core","startAt","lastAt","onFinish","recorder","createRecorder","minmeType","setRecorder","record","datas","stream","captureStream","MediaRecorder","ondataavailable","event","data","size","onstop","url","URL","createObjectURL","Blob","type","start","setTimeout","stop","LinearInterpolator","x","easeInSine","Math","cos","PI","easeOutSine","sin","easeInOutSine","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","sqrt","easeOutCirc","easeInOutCirc","easeInBack","c1","c3","easeOutBack","easeInOutBack","c2","easeInElastic","c4","easeOutElastic","easeInOutElastic","c5","easeInBounce","easeOutBounce","n1","d1","easeInOutBounce","interpolator","Linear","AnimationBuilderItem","_carInstance","Interpolator","startValue","endValue","interpolationFunction","interpolate","n","AngleCircle","flag","undefined","lastsFor","to","bindTo","Error","from","startAngle","endAngle","interpolatorstart","by","interpolatorend","relativeFrameCount","_parent","Limit","startVariable","endVariable","Rotation","rotation","Scale","scaleX","scaleY","interpolatorx","interpolatory","Translation","y","AxisLength","axisPositiveXLength","axisPositiveYLength","axisNegativeXLength","axisNegativeYLength","RectSize","Transparency","transparency","animation","Carobj","display","contextX","contextY","operation","children","onDraw","ctx","save","translate","rotate","scale","globalAlpha","globalCompositeOperation","child","restore","hide","appear","setContextPosition","addChildren","Circle","borderColor","borderWidth","fillColor","radius","lineWidth","moveTo","beginPath","arc","fillStyle","fill","strokeStyle","stroke","Line","color","startPoint","endPoint","primaryPoints","lineTo","startX","startY","endX","endY","MathImage","end","variable","Point","Polygon","points","point","Text","text","fontFamily","align","baseline","hollow","font","textAlign","textBaseline","fillText","strokeText","CoordinateSystem","axisXDirection","axisYDirection","Rectangle","Image","image","drawImage","AudioItem","path","volume","Audio","Car","_Car_animationBuilder","_Car_soundBuilder","_Car_core","addObject","addAnimationItem","addAudioItem","sound","allowAudio","banAudio","exports","window","onload","console","log"],"mappings":"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"}